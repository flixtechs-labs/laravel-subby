<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.11" />
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <title>Plan Subscription Schedule</title><meta name="description" content="">
    <link rel="preload" href="/assets/style-BgjzFGSy.css" as="style"><link rel="stylesheet" href="/assets/style-BgjzFGSy.css">
    <link rel="modulepreload" href="/assets/app-Vnr7Qnzh.js"><link rel="modulepreload" href="/assets/plan-subscription-schedule-model.html-DqQFslQE.js">
    <link rel="prefetch" href="/assets/LICENSE.html-BNfShUi2.js" as="script"><link rel="prefetch" href="/assets/PULL_REQUEST_TEMPLATE.html-HVv_-LlU.js" as="script"><link rel="prefetch" href="/assets/index.html-BKbJmFyP.js" as="script"><link rel="prefetch" href="/assets/CHANGELOG.html-Cm2WlaQa.js" as="script"><link rel="prefetch" href="/assets/LICENSE.html-CMyZItHw.js" as="script"><link rel="prefetch" href="/assets/index.html-o8VPDecb.js" as="script"><link rel="prefetch" href="/assets/CHANGELOG.html-H8PUwdcE.js" as="script"><link rel="prefetch" href="/assets/index.html-nB6Fosz_.js" as="script"><link rel="prefetch" href="/assets/index.html-Tv9yhSsO.js" as="script"><link rel="prefetch" href="/assets/index.html-Bpw41OId.js" as="script"><link rel="prefetch" href="/assets/index.html-BpJ3AN9A.js" as="script"><link rel="prefetch" href="/assets/plan-subscription-schedule.html-DKqrhFBT.js" as="script"><link rel="prefetch" href="/assets/index.html-C1H-nh5f.js" as="script"><link rel="prefetch" href="/assets/index.html-C3ip_hMh.js" as="script"><link rel="prefetch" href="/assets/plan-feature-model.html-JuGsZ8fQ.js" as="script"><link rel="prefetch" href="/assets/plan-model.html-370IDcz3.js" as="script"><link rel="prefetch" href="/assets/plan-subscription-model.html-Cu6rjbO7.js" as="script"><link rel="prefetch" href="/assets/index.html-rDoNfk4d.js" as="script"><link rel="prefetch" href="/assets/migrate-v4.html-Do_gi0JF.js" as="script"><link rel="prefetch" href="/assets/index.html-C4SfV9td.js" as="script"><link rel="prefetch" href="/assets/plan-feature-model.html-C0Mognob.js" as="script"><link rel="prefetch" href="/assets/plan-model.html-BtLdM_Jz.js" as="script"><link rel="prefetch" href="/assets/plan-subscription-feature-model.html-DYLyPF2l.js" as="script"><link rel="prefetch" href="/assets/plan-subscription-model.html-DFU3EVUN.js" as="script"><link rel="prefetch" href="/assets/index.html-BfLbFDYm.js" as="script"><link rel="prefetch" href="/assets/migrate-v5.html--xqqxtLh.js" as="script"><link rel="prefetch" href="/assets/index.html-CnRLwc6M.js" as="script"><link rel="prefetch" href="/assets/plan-feature-model.html-B1Or1U61.js" as="script"><link rel="prefetch" href="/assets/plan-model.html-L0tVSMPM.js" as="script"><link rel="prefetch" href="/assets/plan-subscription-feature-model.html-B5Uqj3C5.js" as="script"><link rel="prefetch" href="/assets/plan-subscription-model.html-bJDSweIz.js" as="script"><link rel="prefetch" href="/assets/plan-subscription-schedule-model.html-DYFOVlDs.js" as="script"><link rel="prefetch" href="/assets/index.html-Dw6qEmAU.js" as="script"><link rel="prefetch" href="/assets/migrate-v6.html-CBm5rm51.js" as="script"><link rel="prefetch" href="/assets/index.html-oV75R2A1.js" as="script"><link rel="prefetch" href="/assets/plan-combination-model.html-BBjis4v9.js" as="script"><link rel="prefetch" href="/assets/plan-feature-model.html-PV997U6K.js" as="script"><link rel="prefetch" href="/assets/plan-model.html-B8V0fFZB.js" as="script"><link rel="prefetch" href="/assets/plan-subscription-feature-model.html-Bj0kbHcV.js" as="script"><link rel="prefetch" href="/assets/plan-subscription-model.html-BW_sf1e8.js" as="script"><link rel="prefetch" href="/assets/plan-subscription-schedule-model.html-BF_175-4.js" as="script"><link rel="prefetch" href="/assets/payment-services.html-B-9TETio.js" as="script"><link rel="prefetch" href="/assets/index.html-COjB3967.js" as="script"><link rel="prefetch" href="/assets/migrate-v7.html-BhL5XXf9.js" as="script"><link rel="prefetch" href="/assets/index.html-1qm2YbQC.js" as="script"><link rel="prefetch" href="/assets/plan-combination-model.html-BBzm36gN.js" as="script"><link rel="prefetch" href="/assets/plan-feature-model.html-BPmQgoSa.js" as="script"><link rel="prefetch" href="/assets/plan-model.html-BWvXbwoe.js" as="script"><link rel="prefetch" href="/assets/plan-subscription-feature-model.html-BYraHkaM.js" as="script"><link rel="prefetch" href="/assets/plan-subscription-model.html-B9cponRX.js" as="script"><link rel="prefetch" href="/assets/payment-services.html-Dijt3_Dj.js" as="script"><link rel="prefetch" href="/assets/subscription-payment-queuer-job.html-B06HuoV7.js" as="script"><link rel="prefetch" href="/assets/subscription-renewal-payment-job.html-ZvKGg5PF.js" as="script"><link rel="prefetch" href="/assets/subscription-schedule-payment-job.html-CD-0vsQH.js" as="script"><link rel="prefetch" href="/assets/subscription-payment-queuer-job.html-DYG9j_If.js" as="script"><link rel="prefetch" href="/assets/subscription-renewal-payment-job.html-DoCkkvso.js" as="script"><link rel="prefetch" href="/assets/subscription-schedule-payment-job.html-CupTkpAz.js" as="script"><link rel="prefetch" href="/assets/404.html-BSFau2eP.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container external-link-icon"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><!----><!----></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Plan Subscription Schedule <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link auto-link sidebar-item" href="#what-it-does" aria-label="What it does"><!---->What it does<!----></a><!----></li><li><a class="route-link auto-link sidebar-item" href="#usage" aria-label="Usage"><!---->Usage<!----></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link auto-link sidebar-item" href="#create-schedule" aria-label="Create schedule"><!---->Create schedule<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link sidebar-item" href="#scopes" aria-label="Scopes"><!---->Scopes<!----></a><!----></li><li><a class="route-link auto-link sidebar-item" href="#latest-and-first-schedule-to-date" aria-label="Latest and first schedule to date"><!---->Latest and first schedule to date<!----></a><!----></li><li><a class="route-link auto-link sidebar-item" href="#service" aria-label="Service"><!---->Service<!----></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link auto-link sidebar-item" href="#how-to-make-a-service" aria-label="How to make a service?"><!---->How to make a service?<!----></a><!----></li><li><a class="route-link auto-link sidebar-item" href="#service-options" aria-label="Service options"><!---->Service options<!----></a><!----></li><!--]--></ul></li><li><a class="route-link auto-link sidebar-item" href="#dispatch-the-schedule-job" aria-label="Dispatch the schedule job"><!---->Dispatch the schedule job<!----></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="plan-subscription-schedule" tabindex="-1"><a class="header-anchor" href="#plan-subscription-schedule"><span>Plan Subscription Schedule</span></a></h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/v7.x/models/plan-subscription-schedule-model.html#what-it-does" class="router-link-active router-link-exact-active">What it does</a></li><li><a aria-current="page" href="/v7.x/models/plan-subscription-schedule-model.html#usage" class="router-link-active router-link-exact-active">Usage</a><ul><li><a aria-current="page" href="/v7.x/models/plan-subscription-schedule-model.html#create-schedule" class="router-link-active router-link-exact-active">Create schedule <span class="badge warning" style=""><!--[-->updated in v6.0<!--]--></span></a></li></ul></li><li><a aria-current="page" href="/v7.x/models/plan-subscription-schedule-model.html#scopes" class="router-link-active router-link-exact-active">Scopes</a></li><li><a aria-current="page" href="/v7.x/models/plan-subscription-schedule-model.html#latest-and-first-schedule-to-date" class="router-link-active router-link-exact-active">Latest and first schedule to date</a></li><li><a aria-current="page" href="/v7.x/models/plan-subscription-schedule-model.html#service" class="router-link-active router-link-exact-active">Service <span class="badge warning" style=""><!--[-->updated in v6.0<!--]--></span></a><ul><li><a aria-current="page" href="/v7.x/models/plan-subscription-schedule-model.html#how-to-make-a-service" class="router-link-active router-link-exact-active">How to make a service?</a></li><li><a aria-current="page" href="/v7.x/models/plan-subscription-schedule-model.html#service-options" class="router-link-active router-link-exact-active">Service options</a></li></ul></li><li><a aria-current="page" href="/v7.x/models/plan-subscription-schedule-model.html#dispatch-the-schedule-job" class="router-link-active router-link-exact-active">Dispatch the schedule job</a></li></ul></nav><p>Want to change a subscription but not right now? Schedule it at the end of the period? With this model you can schedule your subscription plan changes.</p><h2 id="what-it-does" tabindex="-1"><a class="header-anchor" href="#what-it-does"><span>What it does</span></a></h2><ul><li>Plan Subscription is scheduled to change to another plan or plan combination at a certain date in the future. <ul><li>In this schedule you specify date and which service will be executed before the change.</li><li>You can also set a timeout and tries for the job.</li></ul></li><li>A job is added in your app schedule</li><li>When the time comes, job batches all pending schedules and dispatches it. <ul><li>Job will execute your defined service before plan change, if it succeeds, change will be done. If it fails, schedule will be flagged as failed.</li></ul></li></ul><h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage"><span>Usage</span></a></h2><h3 id="create-schedule" tabindex="-1"><a class="header-anchor" href="#create-schedule"><span>Create schedule <span class="badge warning" style=""><!--[-->updated in v6.0<!--]--></span></span></a></h3><div class="custom-container danger"><p class="custom-container-title">Breaking change in v6.0</p><p>Method <code>usingService</code> is abandoned to use subscription&#39;s payment method.</p></div><p>You can schedule a change in your user subscription like this:</p><div class="language-php line-numbers-mode" data-ext="php" data-title="php"><pre class="language-php"><code><span class="token variable">$date</span> <span class="token operator">=</span> <span class="token class-name static-context">Carbon</span><span class="token operator">::</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;day&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$proPlan</span> <span class="token operator">=</span> <span class="token class-name static-context">Plan</span><span class="token operator">::</span><span class="token function">findByTag</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;pro-plan&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">subscription</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;main&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">toPlan</span><span class="token punctuation">(</span><span class="token variable">$proPlan</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">onDate</span><span class="token punctuation">(</span><span class="token variable">$date</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">setSchedule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="scopes" tabindex="-1"><a class="header-anchor" href="#scopes"><span>Scopes</span></a></h2><p>These are the scopes you can apply to your <code>PlanSubscriptionSchedule</code> model.</p><p><code>unprocessed()</code> returns all unprocessed schedules (not having success or failure) in the past and in the future.</p><p><code>pending()</code> returns a list of schedules that have not been processed and are due to be processed. To define an ending date, use <code>Carbon</code> date as parameter to show pending until specified date. Default returns pending until now.</p><h2 id="latest-and-first-schedule-to-date" tabindex="-1"><a class="header-anchor" href="#latest-and-first-schedule-to-date"><span>Latest and first schedule to date</span></a></h2><p>With this functions you can retrieve your latest schedule to date, or your next upcoming schedule. Both return <code>null</code> if there are no schedules.</p><p>This is useful in case you want to always edit the latest schedule and not create new ones.</p><div class="language-php line-numbers-mode" data-ext="php" data-title="php"><pre class="language-php"><code><span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">subscription</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;main&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getLatestSchedule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Get latest schedule before date (now() or parameter with date)</span>
<span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">subscription</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;main&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getFirstSchedule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Get first schedule after date (now() or parameter with date)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="service" tabindex="-1"><a class="header-anchor" href="#service"><span>Service <span class="badge warning" style=""><!--[-->updated in v6.0<!--]--></span></span></a></h2><div class="custom-container danger"><p class="custom-container-title">Breaking change in v6.0</p><p>There are no longer multiple services to process the schedule. There is only one and it uses payments set via config.</p></div><p>By default, the config file includes a service for processing your plan change. This service it&#39;s a good starting point to see how it works. The service is a template service that will use payment method and do the plan change.</p><h3 id="how-to-make-a-service" tabindex="-1"><a class="header-anchor" href="#how-to-make-a-service"><span>How to make a service?</span></a></h3><p>In the <code>ScheduleService</code> you can see the minimum requirements of a service.</p><p>Your own service has to implement interface <code>PlanSubscriptionScheduleService</code>. <code>__construct</code> accepts one parameter, the <code>PlanSubscriptionSchedule</code> Eloquent object of the subscription schedule.</p><p>In this file you can see how it works. A change is considered failed when an exception is raised. Any exception will stop the process and flag it as failed. If no exceptions are raised, it means payment has been successful and change can be done.</p><div class="language-php line-numbers-mode" data-ext="php" data-title="php"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>


<span class="token keyword">declare</span><span class="token punctuation">(</span>strict_types<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">namespace</span> <span class="token package">Flixtechs<span class="token punctuation">\</span>Subby<span class="token punctuation">\</span>Services</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Flixtechs<span class="token punctuation">\</span>Subby<span class="token punctuation">\</span>Contracts<span class="token punctuation">\</span>PlanSubscriptionScheduleService</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Flixtechs<span class="token punctuation">\</span>Subby<span class="token punctuation">\</span>Models<span class="token punctuation">\</span>PlanSubscriptionSchedule</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">app</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">ScheduleService</span> <span class="token keyword">implements</span> <span class="token class-name">PlanSubscriptionScheduleService</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token variable">$planSubscriptionSchedule</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * ScheduleService constructor.
     * Save current Plan Subscription Schedule
     * <span class="token keyword">@param</span> <span class="token class-name">PlanSubscriptionSchedule</span> <span class="token parameter">$planSubscriptionSchedule</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token class-name type-declaration">PlanSubscriptionSchedule</span> <span class="token variable">$planSubscriptionSchedule</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">planSubscriptionSchedule</span> <span class="token operator">=</span> <span class="token variable">$planSubscriptionSchedule</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Execute the strategy
     * Try charging via default payment method and then change plan
     * <span class="token keyword">@throws</span> <span class="token class-name"><span class="token punctuation">\</span>Exception</span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token variable">$payment</span> <span class="token operator">=</span> <span class="token function">app</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;subby.services.payment_methods.&#39;</span> <span class="token operator">.</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">planSubscriptionSchedule</span><span class="token operator">-&gt;</span><span class="token property">subscription</span><span class="token operator">-&gt;</span><span class="token property">payment_method</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$payment</span><span class="token operator">-&gt;</span><span class="token function">charge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>Exception</span> <span class="token variable">$exception</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">planSubscriptionSchedule</span><span class="token operator">-&gt;</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>Exception</span><span class="token punctuation">(</span><span class="token variable">$exception</span><span class="token operator">-&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">$exception</span><span class="token operator">-&gt;</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">planSubscriptionSchedule</span><span class="token operator">-&gt;</span><span class="token function">changeSubscriptionPlan</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="service-options" tabindex="-1"><a class="header-anchor" href="#service-options"><span>Service options</span></a></h3><p>The defined options for the job that will call the service will be defined in constants the service file. By default, PlanSubscriptionSchedule contract has this settings.</p><div class="language-php line-numbers-mode" data-ext="php" data-title="php"><pre class="language-php"><code><span class="token keyword">const</span> <span class="token constant">TRIES</span><span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// Number of tries job will be attempted</span>
<span class="token keyword">const</span> <span class="token constant">TIMEOUT</span><span class="token operator">=</span><span class="token number">120</span><span class="token punctuation">;</span> <span class="token comment">// Timeout for the job that will launch the service.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dispatch-the-schedule-job" tabindex="-1"><a class="header-anchor" href="#dispatch-the-schedule-job"><span>Dispatch the schedule job</span></a></h2><p>See <a class="route-link" href="/v7.x/payments/jobs/subscription-payment-queuer-job.html">Subscription payment queuer job</a></p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: bdpuig@gmail.com">Borja Puig</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: givenyslim12@gmail.com">Given Ncube</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-Vnr7Qnzh.js" defer></script>
  </body>
</html>
