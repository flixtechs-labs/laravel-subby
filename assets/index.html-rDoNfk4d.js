import{_ as n,r as i,c as t,a as o,e as a,d as l,w as r,b as s,o as p}from"./app-Vnr7Qnzh.js";const c={},d=s(`<h1 id="installation" tabindex="-1"><a class="header-anchor" href="#installation"><span>Installation</span></a></h1><p>Install the package via composer:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">composer</span> require bpuig/laravel-subby
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Publish the configuration:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>php artisan vendor:publish <span class="token parameter variable">--tag</span><span class="token operator">=</span>subby.config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Publish migrations:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>php artisan vendor:publish <span class="token parameter variable">--tag</span><span class="token operator">=</span>subby.migrations
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Migrate:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>php artisan migrate
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="define-main-subscription" tabindex="-1"><a class="header-anchor" href="#define-main-subscription"><span>Define main subscription</span></a></h2><p>Since usually projects work with only one subscription or one primary, you have to set the tag for it in the config <code>main_subscription_tag</code>. By default is <code>main</code>.</p><h1 id="upgrade-from-v3-x-to-v4-x" tabindex="-1"><a class="header-anchor" href="#upgrade-from-v3-x-to-v4-x"><span>Upgrade from v3.x to v4.x</span></a></h1><p>This package need to be upgraded version by version to apply database changes.</p><p>Require in composer version 4 or greater. Publish and migrate:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>php artisan vendor:publish <span class="token parameter variable">--tag</span><span class="token operator">=</span>subby.migrations.v4.0.0
php artisan migrate
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="breaking-changes" tabindex="-1"><a class="header-anchor" href="#breaking-changes"><span>Breaking changes</span></a></h3>`,16),u=s(`<h1 id="attach-subscriptions-to-model" tabindex="-1"><a class="header-anchor" href="#attach-subscriptions-to-model"><span>Attach Subscriptions to model</span></a></h1><p><strong>Laravel Subby</strong> has been specially made for Eloquent. To add Subscription functionality to your User model just use the <code>\\Flixtechs\\Subby\\Traits\\HasSubscriptions</code> trait like this:</p><div class="language-php line-numbers-mode" data-ext="php" data-title="php"><pre class="language-php"><code><span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\\</span>Models</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Flixtechs<span class="token punctuation">\\</span>Subby<span class="token punctuation">\\</span>Traits<span class="token punctuation">\\</span>HasSubscriptions</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\\</span>Foundation<span class="token punctuation">\\</span>Auth<span class="token punctuation">\\</span>User</span> <span class="token keyword">as</span> Authenticatable<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Authenticatable</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">HasSubscriptions</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That&#39;s it, we only have to use that trait in our User model or any other model! Now your users may subscribe to plans. Then you can import package&#39;s models wherever you need them or extend them in your own models.</p>`,4);function h(m,b){const e=i("RouteLink");return p(),t("div",null,[d,o("p",null,[a("Find breaking changes in "),l(e,{to:"/v4.x/CHANGELOG.html"},{default:r(()=>[a("changelog")]),_:1}),a(".")]),u])}const g=n(c,[["render",h],["__file","index.html.vue"]]),k=JSON.parse('{"path":"/v4.x/install/","title":"Installation","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Define main subscription","slug":"define-main-subscription","link":"#define-main-subscription","children":[{"level":3,"title":"Breaking changes","slug":"breaking-changes","link":"#breaking-changes","children":[]}]}],"git":{"updatedTime":1716242914000,"contributors":[{"name":"Borja Puig","email":"bdpuig@gmail.com","commits":1},{"name":"Given Ncube","email":"givenyslim12@gmail.com","commits":1},{"name":"bpuig","email":"bdpuig@gmail.com","commits":1}]},"filePathRelative":"v4.x/install/README.md"}');export{g as comp,k as data};
