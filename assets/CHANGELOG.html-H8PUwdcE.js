import{_ as e,c as a,o as n,b as i}from"./app-Vnr7Qnzh.js";const s={},l=i('<h1 id="changelog" tabindex="-1"><a class="header-anchor" href="#changelog"><span>Changelog</span></a></h1><p>All notable changes to <code>laravel-subby</code> will be documented in this file.</p><h2 id="_4-0-2" tabindex="-1"><a class="header-anchor" href="#_4-0-2"><span>4.0.2</span></a></h2><h2 id="changes" tabindex="-1"><a class="header-anchor" href="#changes"><span>Changes</span></a></h2><ul><li>Subscription tag scope @boryn (#69)</li></ul><h2 id="bug-fixes" tabindex="-1"><a class="header-anchor" href="#bug-fixes"><span>Bug Fixes</span></a></h2><ul><li>End trial when subscription is renewed. @bpuig (#68)</li></ul><h2 id="_4-0-1" tabindex="-1"><a class="header-anchor" href="#_4-0-1"><span>4.0.1</span></a></h2><h2 id="changes-1" tabindex="-1"><a class="header-anchor" href="#changes-1"><span>Changes</span></a></h2><h2 id="bug-fixes-1" tabindex="-1"><a class="header-anchor" href="#bug-fixes-1"><span>Bug Fixes</span></a></h2><ul><li>canUseFeature also on trial @bpuig (#65)</li></ul><h2 id="documentation" tabindex="-1"><a class="header-anchor" href="#documentation"><span>Documentation</span></a></h2><ul><li>updated plan-subscription-feature-model.md @boryn (#64)</li></ul><h2 id="_4-0-0" tabindex="-1"><a class="header-anchor" href="#_4-0-0"><span>4.0.0</span></a></h2><h3 id="plans" tabindex="-1"><a class="header-anchor" href="#plans"><span>Plans</span></a></h3><h4 id="breaking-changes" tabindex="-1"><a class="header-anchor" href="#breaking-changes"><span>Breaking Changes</span></a></h4><ul><li>Removed <code>hasGrace()</code> method from plan and it&#39;s database related columns.</li><li>Removed columns from database that had no logic implemented: <ul><li><code>prorate_day</code>, <code>prorate_period</code>, <code>prorate_extend_due</code>, <code>active_subscribers_limit</code>, <code>grace_period</code> , <code>grace_interval</code>, <code>timezone</code></li></ul></li></ul><h3 id="plan-features" tabindex="-1"><a class="header-anchor" href="#plan-features"><span>Plan features</span></a></h3><h4 id="breaking-changes-1" tabindex="-1"><a class="header-anchor" href="#breaking-changes-1"><span>Breaking Changes</span></a></h4><ul><li>Removed <code>usage()</code> method.</li></ul><h3 id="plan-subscription" tabindex="-1"><a class="header-anchor" href="#plan-subscription"><span>Plan subscription</span></a></h3><h4 id="new" tabindex="-1"><a class="header-anchor" href="#new"><span>New</span></a></h4><ul><li>Dettached plan subscriptions from plans, now they are their own replica of the plan. This makes the legal part of the subscription easier since when someone subscribes to a plan, and then you change the plan, it will affect existing contracts and in some places, changing conditions unilaterally can put you in trouble. Plan is referenced only for reference features. <ul><li>Now plan subscription clones plan columns <code>price</code>, <code>currency</code>, <code>invoice_period</code>, <code>invoice_interval</code> and <code>tier</code>. They will stay like that even when you change parent plan prices.</li></ul></li><li>Add method <code>isFree()</code>, <code>getDaysUntilEnds()</code>, <code>getDaysUntilTrialEnds()</code>, <code>getRemainingPriceProrate()</code></li><li>Add method <code>isAltered()</code> to know if features are the same as in plan.</li><li>Add method <code>getDaysUntilEnds()</code> to get number of days until subscription ends.</li><li>Add method <code>getDaysUntilTrialEnds()</code> to get number of days until subscription trial ends.</li><li>Add method <code>getRemainingPriceProrate()</code> to retrieve remaining price amount that would have not been consumed.</li></ul><h4 id="breaking-changes-2" tabindex="-1"><a class="header-anchor" href="#breaking-changes-2"><span>Breaking Changes</span></a></h4><ul><li><code>newSubscription()</code> method fourth parameter is <code>$description</code> instead of <code>$startDate</code>. By default, it takes plan&#39;s description.</li></ul><h3 id="plan-subscription-usage" tabindex="-1"><a class="header-anchor" href="#plan-subscription-usage"><span>Plan subscription usage</span></a></h3><h4 id="breaking-changes-3" tabindex="-1"><a class="header-anchor" href="#breaking-changes-3"><span>Breaking Changes</span></a></h4><ul><li>Removed <code>subscription</code> relationship.</li><li>Removed columns from database that had no logic implemented: <ul><li><code>timezone</code></li></ul></li><li>Renamed columns to keep relationships clearer: <ul><li><code>subscription_id</code> to <code>plan_subscription_id</code></li><li><code>feature_id</code> to <code>plan_subscription_feature_id</code></li></ul></li></ul><h3 id="plan-subscription-features" tabindex="-1"><a class="header-anchor" href="#plan-subscription-features"><span>Plan subscription features</span></a></h3><h4 id="new-1" tabindex="-1"><a class="header-anchor" href="#new-1"><span>New</span></a></h4><ul><li>Dettached subscription features from plans, now they are their own replica of the plan features.</li></ul><h3 id="plan-subscription-schedule" tabindex="-1"><a class="header-anchor" href="#plan-subscription-schedule"><span>Plan subscription Schedule</span></a></h3><h4 id="breaking-changes-4" tabindex="-1"><a class="header-anchor" href="#breaking-changes-4"><span>Breaking Changes</span></a></h4><ul><li>Now schedules are separated in their own extension, which allows use of Laravel 7 and 6.</li></ul>',34),t=[l];function c(o,r){return n(),a("div",null,t)}const h=e(s,[["render",c],["__file","CHANGELOG.html.vue"]]),u=JSON.parse('{"path":"/v4.x/CHANGELOG.html","title":"Changelog","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"4.0.2","slug":"_4-0-2","link":"#_4-0-2","children":[]},{"level":2,"title":"Changes","slug":"changes","link":"#changes","children":[]},{"level":2,"title":"Bug Fixes","slug":"bug-fixes","link":"#bug-fixes","children":[]},{"level":2,"title":"4.0.1","slug":"_4-0-1","link":"#_4-0-1","children":[]},{"level":2,"title":"Changes","slug":"changes-1","link":"#changes-1","children":[]},{"level":2,"title":"Bug Fixes","slug":"bug-fixes-1","link":"#bug-fixes-1","children":[]},{"level":2,"title":"Documentation","slug":"documentation","link":"#documentation","children":[]},{"level":2,"title":"4.0.0","slug":"_4-0-0","link":"#_4-0-0","children":[{"level":3,"title":"Plans","slug":"plans","link":"#plans","children":[]},{"level":3,"title":"Plan features","slug":"plan-features","link":"#plan-features","children":[]},{"level":3,"title":"Plan subscription","slug":"plan-subscription","link":"#plan-subscription","children":[]},{"level":3,"title":"Plan subscription usage","slug":"plan-subscription-usage","link":"#plan-subscription-usage","children":[]},{"level":3,"title":"Plan subscription features","slug":"plan-subscription-features","link":"#plan-subscription-features","children":[]},{"level":3,"title":"Plan subscription Schedule","slug":"plan-subscription-schedule","link":"#plan-subscription-schedule","children":[]}]}],"git":{"updatedTime":1622730146000,"contributors":[{"name":"bpuig","email":"bdpuig@gmail.com","commits":2}]},"filePathRelative":"v4.x/CHANGELOG.md"}');export{h as comp,u as data};
